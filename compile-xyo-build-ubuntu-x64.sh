#!/bin/sh
SRC=""

SRC="$SRC xyo-build.cpp"
SRC="$SRC xyo-build-copyright.cpp"
SRC="$SRC xyo-build-licence.cpp"

XLIB="../quantum-script/library"
SRC="$SRC $XLIB/quantum-script-native-symbollist.cpp"
SRC="$SRC $XLIB/quantum-script-native-variable.cpp"
SRC="$SRC $XLIB/quantum-script-native-variablenull.cpp"
SRC="$SRC $XLIB/quantum-script-native-variableboolean.cpp"
SRC="$SRC $XLIB/quantum-script-native-variablenumber.cpp"
SRC="$SRC $XLIB/quantum-script-native-variablestring.cpp"
SRC="$SRC $XLIB/quantum-script-native-variablearray.cpp"
SRC="$SRC $XLIB/quantum-script-native-variableobject.cpp"
SRC="$SRC $XLIB/quantum-script-native-variablefunction.cpp"
SRC="$SRC $XLIB/quantum-script-native-variablefunctionwithyield.cpp"
SRC="$SRC $XLIB/quantum-script-native-variableresource.cpp"
SRC="$SRC $XLIB/quantum-script-native-variabledatetime.cpp"
SRC="$SRC $XLIB/quantum-script-native-variablesymbol.cpp"
SRC="$SRC $XLIB/quantum-script-native-variableassociativearray.cpp"
SRC="$SRC $XLIB/quantum-script-native-variablerandom.cpp"
SRC="$SRC $XLIB/quantum-script-native-variablesocket.cpp"
SRC="$SRC $XLIB/quantum-script-native-variablefile.cpp"
SRC="$SRC $XLIB/quantum-script-native-variableshellfind.cpp"
SRC="$SRC $XLIB/quantum-script-native-variableatomic.cpp"
SRC="$SRC $XLIB/quantum-script-native-variablebuffer.cpp"
SRC="$SRC $XLIB/quantum-script-native-variablequitmessage.cpp"
SRC="$SRC $XLIB/quantum-script-native-variableutf16.cpp"
SRC="$SRC $XLIB/quantum-script-native-variableutf32.cpp"
SRC="$SRC $XLIB/quantum-script-native-context.cpp"
SRC="$SRC $XLIB/quantum-script-native-prototype.cpp"
SRC="$SRC $XLIB/quantum-script-native-iterator.cpp"
SRC="$SRC $XLIB/quantum-script-native-arrayiteratorkey.cpp"
SRC="$SRC $XLIB/quantum-script-native-objectiteratorkey.cpp"
SRC="$SRC $XLIB/quantum-script-native-arrayiteratorvalue.cpp"
SRC="$SRC $XLIB/quantum-script-native-objectiteratorvalue.cpp"
SRC="$SRC $XLIB/quantum-script-native-shellfinditeratorvalue.cpp"
SRC="$SRC $XLIB/quantum-script-native-associativearrayiteratorkey.cpp"
SRC="$SRC $XLIB/quantum-script-native-associativearrayiteratorvalue.cpp"

SRC="$SRC $XLIB/quantum-script-vm-input.cpp"
SRC="$SRC $XLIB/quantum-script-vm-token.cpp"
SRC="$SRC $XLIB/quantum-script-vm-parser.cpp"
SRC="$SRC $XLIB/quantum-script-vm-parser-break.cpp"
SRC="$SRC $XLIB/quantum-script-vm-parser-continue.cpp"
SRC="$SRC $XLIB/quantum-script-vm-parser-do.cpp"
SRC="$SRC $XLIB/quantum-script-vm-parser-expression.cpp"
SRC="$SRC $XLIB/quantum-script-vm-parser-for.cpp"
SRC="$SRC $XLIB/quantum-script-vm-parser-function.cpp"
SRC="$SRC $XLIB/quantum-script-vm-parser-if.cpp"
SRC="$SRC $XLIB/quantum-script-vm-parser-return.cpp"
SRC="$SRC $XLIB/quantum-script-vm-parser-yield.cpp"
SRC="$SRC $XLIB/quantum-script-vm-parser-switch.cpp"
SRC="$SRC $XLIB/quantum-script-vm-parser-throw.cpp"
SRC="$SRC $XLIB/quantum-script-vm-parser-try.cpp"
SRC="$SRC $XLIB/quantum-script-vm-parser-var.cpp"
SRC="$SRC $XLIB/quantum-script-vm-parser-while.cpp"

SRC="$SRC $XLIB/quantum-script-vm-variablefiberinfo.cpp"
SRC="$SRC $XLIB/quantum-script-vm-variablethreadinfo.cpp"
SRC="$SRC $XLIB/quantum-script-vm-variablevmfunction.cpp"
SRC="$SRC $XLIB/quantum-script-vm-variablevmprogramcounter.cpp"
SRC="$SRC $XLIB/quantum-script-vm-instructioncontext.cpp"
SRC="$SRC $XLIB/quantum-script-vm-variablestacktrace.cpp"
SRC="$SRC $XLIB/quantum-script-vm-variableargumentlevel.cpp"
SRC="$SRC $XLIB/quantum-script-vm-variablereferenceobject.cpp"
SRC="$SRC $XLIB/quantum-script-vm-variableoperator21.cpp"
SRC="$SRC $XLIB/quantum-script-vm-variableoperator22.cpp"
SRC="$SRC $XLIB/quantum-script-vm-variableoperator23.cpp"
SRC="$SRC $XLIB/quantum-script-vm-variableoperator31.cpp"

SRC="$SRC $XLIB/quantum-script-vm-asm.cpp"
SRC="$SRC $XLIB/quantum-script-vm-instruction.cpp"
SRC="$SRC $XLIB/quantum-script-vm-variablenativevmfunction.cpp"
SRC="$SRC $XLIB/quantum-script-vm-executive.cpp"
SRC="$SRC $XLIB/quantum-script-vm-executivex.cpp"

SRC="$SRC $XLIB/quantum-script-vm-libstd.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdconsole.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstderror.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdscript.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdstring.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdfiber.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdthread.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdconvert.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdapplication.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdresource.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdmath.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstddatetime.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdbase64.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdmd5.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdrandom.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdsocket.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdfile.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdshellfind.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdshell.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdatomic.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdjson.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdbuffer.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdcsv.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdurl.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdutf16.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdutf32.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdsha256.cpp"
SRC="$SRC $XLIB/quantum-script-vm-libstdsha512.cpp"

XLIB="../libxyo-xy"
SRC="$SRC $XLIB/xyo-xy-object.cpp"
SRC="$SRC $XLIB/xyo-xy-xcriticalsection--os-unix.cpp"
SRC="$SRC $XLIB/xyo-xy-xregistryprocess.cpp"
SRC="$SRC $XLIB/xyo-xy-xregistrythread.cpp"
SRC="$SRC $XLIB/xyo-xy-xthread--os-unix.cpp"
SRC="$SRC $XLIB/xyo-xy-imain.cpp"

XLIB="../libxyo-xo"
SRC="$SRC $XLIB/xyo-xo-error.cpp"
SRC="$SRC $XLIB/xyo-xo-stringbasebyte.cpp"
SRC="$SRC $XLIB/xyo-xo-stringreferencebyte.cpp"
SRC="$SRC $XLIB/xyo-xo-stringbytex.cpp"
SRC="$SRC $XLIB/xyo-xo-string.cpp"
SRC="$SRC $XLIB/xyo-xo-stringbaseword.cpp"
SRC="$SRC $XLIB/xyo-xo-stringreferenceword.cpp"
SRC="$SRC $XLIB/xyo-xo-stringwordx.cpp"
SRC="$SRC $XLIB/xyo-xo-stringbasedword.cpp"
SRC="$SRC $XLIB/xyo-xo-stringreferencedword.cpp"
SRC="$SRC $XLIB/xyo-xo-stringdwordx.cpp"
SRC="$SRC $XLIB/xyo-xo-utf8x.cpp"
SRC="$SRC $XLIB/xyo-xo-utf16x.cpp"
SRC="$SRC $XLIB/xyo-xo-utf32x.cpp"
SRC="$SRC $XLIB/xyo-xo-utfx.cpp"
SRC="$SRC $XLIB/xyo-xo-file.cpp"
SRC="$SRC $XLIB/xyo-xo-filex.cpp"
SRC="$SRC $XLIB/xyo-xo-memoryfileread.cpp"
SRC="$SRC $XLIB/xyo-xo-shell--os-unix.cpp"
SRC="$SRC $XLIB/xyo-xo-shellx.cpp"
SRC="$SRC $XLIB/xyo-xo-console--os-unix.cpp"
SRC="$SRC $XLIB/xyo-xo-datetime--os-unix.cpp"
SRC="$SRC $XLIB/xyo-xo-md5hash.cpp"
SRC="$SRC $XLIB/xyo-xo-base64.cpp"
SRC="$SRC $XLIB/xyo-xo-randommt.cpp"
SRC="$SRC $XLIB/xyo-xo-socket--os-unix.cpp"
SRC="$SRC $XLIB/xyo-xo-net--os-unix.cpp"
SRC="$SRC $XLIB/xyo-xo-ip4.cpp"
SRC="$SRC $XLIB/xyo-xo-ipaddress4.cpp"
SRC="$SRC $XLIB/xyo-xo-sha256hash.cpp"
SRC="$SRC $XLIB/xyo-xo-sha512hash.cpp"

INC=""
INC="$INC -Ilibrary"
INC="$INC -I../libxyo-xy"
INC="$INC -I../libxyo-xo"
INC="$INC -I../quantum-script/library"

DEF=""
DEF="$DEF -DXYO_OS_TYPE_UNIX"
DEF="$DEF -DXYO_MACHINE_64BIT"
DEF="$DEF -DXYO_COMPILER_GNU"
DEF="$DEF -DXYO_XY_INTERNAL"
DEF="$DEF -DXYO_XO_INTERNAL"
DEF="$DEF -DQUANTUM_SCRIPT_INTERNAL"
DEF="$DEF -DLIBXYO_XY_NO_VERSION"
DEF="$DEF -DLIBXYO_XO_NO_VERSION"
DEF="$DEF -DLIBQUANTUM_SCRIPT_NO_VERSION"
DEF="$DEF -DXYO_BUILD_NO_VERSION"

#DEF="$DEF -DXYO_MEMORY_LEAK_DETECTOR"
#DEF="$DEF -DXYO_MEMORYPOOL_FORCE_SYSTEM"
#DEF="$DEF -DXYO_MEMORYPOOL_INFO"
#DEF="$DEF -DXYO_MEMORYSINGLETON_INFO"
#DEF="$DEF -DXYO_OBJECT_COUNTING_DEBUG"
#DEF="$DEF -DXYO_OBJECT_MANAGEMENT_DEBUG"
#DEF="$DEF -DXYO_SINGLE_THREAD"
#DEF="$DEF -DQUANTUM_SCRIPT_VM_DEBUG_ASM"
#DEF="$DEF -DQUANTUM_SCRIPT_VM_DEBUG_RUNTIME"
#DEF="$DEF -DQUANTUM_SCRIPT_VM_DISABLE_ASM_OPTIMIZER"
#DEF="$DEF -DQUANTUM_SCRIPT_VM_SINGLE_FIBER"
#DEF="$DEF -DQUANTUM_SCRIPT_VM_SINGLE_THREAD"
#DEF="$DEF -DQUANTUM_SCRIPT_VM_DISABLE_CLOSURE"

gcc -o xyo-build -std=c++11 -std=gnu++11 -fpermissive $DEF $INC $SRC -lstdc++ -lpthread -ldl -lm

rm -f *.o

